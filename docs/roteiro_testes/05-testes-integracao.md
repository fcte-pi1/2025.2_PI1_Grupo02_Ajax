# 5. Testes de Integração

| Código     | Nome do Teste                                       | Tipo          | Objetivo                                 | Pré-condições                                                                                                                                                                              | Procedimento                                                                                                                                                                                                                                                                                                                                                                        | Resultado Esperado                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Requisito Relacionado                                                                                            |
| ---------- | --------------------------------------------------- | ------------- | ---------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------- |
| CT-INT-001 | Comunicação completa carrinho ↔ backend ↔ interface | Sistema       | Validar ciclo completo de uma missão.    | - Todos os subsistemas integrados<br> - Rede Wi-Fi<br> - Carrinho ligado e sistema de controle em execução<br>- Espaço para realização do trajeto                                          | 1\. Acessar a interface web.<br>2\. Inserir uma rota (ex: "avançar 1m", "virar 90°", "avançar 0.5m").<br>3\. Clicar no botão para iniciar a missão.<br>4\. Observar o carrinho executando fisicamente a sequência de comandos.<br>5\. Após a conclusão, solicitar o relatório da missão pela interface.<br>6\. Verificar se os dados da trajetória real foram recebidos e exibidos. | - O comando enviado pela interface foi recebido pelo backend sem erros<br>- O backend enviou a missão completa ao ESP32 e registra logs de envio e execução<br>- O carrinho executou fisicamente a sequência sem interrupções ou desvios<br>- O backend recebeu dados de telemetria durante a execução (posição, ângulo, tempo)<br>- O relatório exibido na interface apresentou trajetória planejada e executada<br>- Nenhum erro de sincronização ou perda de pacote foi percebido. | RF-1.1, RF-1.2, RF-2.1, RF-4.1, RF-4.2, RF-5.1, RF-5.2, RF-6.1, RF-6.2, RF-7.1, RF-8.1, RF-8.2, RNF-1.1, RNF-2.1 |
| CT-INT-002 | Perda temporária de conexão                         | Não funcional | Avaliar comportamento em falha de Wi-Fi. | - Missão configurada e iniciada com sucesso.<br>- Sistema de reconexão Wi-Fi ativo no firmware.<br>- Roteador acessível e controlável manualmente<br> - Espaço para realização do trajeto. | 1\. Iniciar uma missão.<br>2\. No meio da execução, desligar o roteador Wi-Fi por 10 segundos.<br>3\. Observar se o carrinho para ou se entra em modo de espera.<br>4\. Ligar novamente o roteador.<br>5\. Observar se o ESP32 se reconecta automaticamente ao servidor e continua a missão do ponto onde parou.                                                                    | - Ao perder a conexão, o carrinho interrompeu a missão sem movimento ou comportamento errático<br>- O ESP32 tentou reconexão automaticamente<br>- Após religar o roteador, a reconexão ocorreu em menos de 10 segundos.<br>- A missão foi retomada a partir do último comando executado<br>- O backend registrou evento de perda e reconexão no log<br>- Nenhum dado de telemetria foi corrompido ou perdido após a retomada.                                                         | RF-7.1, RNF-2.1, RNF-1.1                                                                                         |

### Histórico de Versões

| Versão | Data       | Descrição                                                                                                             | Autor                                          | Revisor                                         |
| ------ | ---------- | --------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------- | ----------------------------------------------- |
| 1.0    | 11/10/2025 | Criação do documento                                                                                                  | [João Pedro](https://github.com/JoaoPedrooSS)  | [João Lucas](https://github.com/jlucasiqueira)  |
| 1.1    | 11/10/2025 | Criação de cenários para validar o fluxo completo de dados e o comportamento em falhas.                               | [Johan Rocha](https://github.com/johan-rocha)  | [João Lucas](https://github.com/jlucasiqueira)  |
| 1.2    | 11/10/2025 | Definição de pré-condições e resultados esperados para testes de fluxo completo de dados e o comportamento em falhas. | [João Vitor Ribeiro](https://github.com/Joa0V) | [João Lucas](https://github.com/jlucasiqueira)  |
| 1.3    | 11/10/2025 | Definição de código e requisitos relacionados aos testes de fluxo completo de dados e o comportamento em falhas       | [João Lucas](https://github.com/jlucasiqueira) | [Francisco](https://github.com/francisco1penha) |
